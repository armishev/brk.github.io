<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>TradingView Widget</title>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      overflow: hidden;
      height: 100vh;
      display: flex;
      flex-direction: column;
    }

    #currency-select {
      width: 100%;
      height: 40px;
      font-size: 16px;
    }

    #tradingview_chart {
      flex-grow: 1;
      width: 100%;
      height: calc(100vh - 120px); /* Высота экрана минус высота нижней панели и селектора */
    }

    .bottom-nav {
      height: 80px;
      background-color: #f1f1f1;
      display: flex;
      justify-content: space-around;
      align-items: center;
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      border-top: 1px solid #ccc;
    }

    .bottom-nav button {
      background-color: transparent;
      border: none;
      font-size: 16px;
      cursor: pointer;
    }
  </style>
</head>
<body>
<select id="currency-select">
  <option value="BINANCE:BTCUSDT">BTC</option>
  <option value="BINANCE:TONUSDT">TON</option>
  <option value="BINANCE:ETHUSDT">ETH</option>
</select>

<div id="tradingview_chart"></div>

<div class="bottom-nav">
  <button>Задания</button>
  <button>Фортуна</button>
  <button>Биржа</button>
  <button>Друзья</button>
  <button>Аккаунт</button>
</div>

<script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
<script type="text/javascript">
  function createWidget(symbol) {
    new TradingView.widget({
      "autosize": true,
      "symbol": symbol,
      "interval": "D",
      "timezone": "Europe/Moscow",
      "theme": "dark",
      "style": "1",
      "locale": "en",
      "container_id": "tradingview_chart",
      "hide_legend": false,
      "allow_symbol_change": false,
      "save_image": false,
      "calendar": false,
      "hide_volume": true
    });
  }

  document.addEventListener("DOMContentLoaded", function() {
    var select = document.getElementById('currency-select');
    createWidget(select.value);

    select.addEventListener('change', function() {
      document.getElementById('tradingview_chart').innerHTML = "";
      createWidget(this.value);
    });
  });
</script>
</body>
</html>
