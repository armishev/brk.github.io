<!-- Начало виджета TradingView -->
<select id="currency-select">
  <option value="BINANCE:BTCUSDT">BTC</option>
  <option value="BINANCE:TONUSDT">TON</option>
  <option value="BINANCE:ETHUSDT">ETH</option>
</select>

<div id="tradingview_chart" style="height:100%;width:100%"></div>

<script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
<script type="text/javascript">
  function createWidget(symbol) {
    new TradingView.widget({
      "autosize": true,
      "symbol": symbol,
      "interval": "D",
      "timezone": "Europe/Moscow",
      "theme": "dark",
      "style": "1",
      "locale": "en",
      "container_id": "tradingview_chart",
      "hide_legend": false,
      "allow_symbol_change": false,
      "save_image": false,
      "calendar": false,
      "hide_volume": true
    });
  }

  document.addEventListener("DOMContentLoaded", function() {
    var select = document.getElementById('currency-select');
    createWidget(select.value);

    select.addEventListener('change', function() {
      document.getElementById('tradingview_chart').innerHTML = "";
      createWidget(this.value);
    });
  });
</script>
